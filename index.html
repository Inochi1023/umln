<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜¨ë¼ì¸ ì†Œì„¤ ë„ì„œê´€</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .login-container {
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            width: 100%;
            max-width: 400px;
        }

        .login-container h1 {
            text-align: center;
            color: #667eea;
            margin-bottom: 10px;
            font-size: 28px;
        }

        .subtitle {
            text-align: center;
            color: #999;
            margin-bottom: 30px;
            font-size: 14px;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 500;
        }

        .input-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
            user-select: text;
            -webkit-user-select: text;
        }

        .input-group input:focus {
            outline: none;
            border-color: #667eea;
        }

        .login-btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .login-btn:hover {
            transform: translateY(-2px);
        }

        .error-message {
            background: #fee;
            color: #c33;
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 15px;
            font-size: 14px;
            display: none;
            text-align: center;
        }

        .info-box {
            background: #f0f4ff;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            font-size: 13px;
            color: #666;
        }

        .info-box strong {
            color: #667eea;
        }

        /* ì±… ì„ íƒ í™”ë©´ */
        .library-container {
            display: none;
            width: 100%;
            max-width: 1400px;
        }

        .library-header {
            background: white;
            padding: 20px 40px;
            border-radius: 15px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .library-header h2 {
            color: #667eea;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .username-display {
            color: #764ba2;
            font-weight: 600;
        }

        .logout-btn {
            padding: 10px 20px;
            background: #764ba2;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
        }

        .books-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 30px;
            padding: 20px;
        }

        .book-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .book-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
        }

        .book-cover {
            width: 100%;
            height: 390px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 30px;
            position: relative;
            overflow: hidden;
        }

        .book-cover::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="50" font-size="60" fill="rgba(255,255,255,0.1)">ğŸ“–</text></svg>');
            background-size: 80px;
            background-position: center;
            background-repeat: no-repeat;
        }

        .book-icon {
            font-size: 80px;
            margin-bottom: 20px;
            position: relative;
            z-index: 1;
        }

        .book-cover-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 0;
        }

        .book-cover-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.7), transparent);
            padding: 20px;
            z-index: 1;
        }

        .book-cover h3 {
            color: white;
            font-size: 24px;
            text-align: center;
            position: relative;
            z-index: 1;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .book-info {
            padding: 20px;
        }

        .book-author {
            color: #666;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .book-description {
            color: #888;
            font-size: 13px;
            line-height: 1.6;
        }

        .book-chapters {
            color: #667eea;
            font-size: 12px;
            margin-top: 10px;
            font-weight: 600;
        }

        /* ë…ì„œ í™”ë©´ */
        .reader-container {
            display: none;
            width: 100%;
            max-width: 1200px;
        }

        .reader-header {
            background: white;
            padding: 20px 40px;
            border-radius: 15px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .reader-header h2 {
            color: #667eea;
        }

        .back-btn {
            padding: 10px 20px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            margin-right: 10px;
        }

        .book-viewer {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .book-content {
            position: relative;
            width: 100%;
            min-height: 600px;
            display: flex;
            transition: opacity 0.3s ease;
        }

        .page {
            flex: 1;
            padding: 60px;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            background: #fffef7;
            position: relative;
            overflow-y: auto;
        }

        .page.left {
            border-right: 1px solid #e0e0e0;
        }

        .page-number {
            position: absolute;
            bottom: 20px;
            font-size: 14px;
            color: #999;
        }

        .page.left .page-number {
            left: 60px;
        }

        .page.right .page-number {
            right: 60px;
        }

        .page-content h3 {
            color: #333;
            margin-bottom: 20px;
            font-size: 24px;
        }

        .page-content p {
            color: #555;
            line-height: 1.8;
            font-size: 16px;
            text-align: justify;
            margin-bottom: 15px;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            padding: 30px;
            background: white;
            border-radius: 0 0 20px 20px;
        }

        .control-btn {
            padding: 12px 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: transform 0.2s;
        }

        .control-btn:hover:not(:disabled) {
            transform: scale(1.05);
        }

        .control-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .page-info {
            text-align: center;
            color: white;
            margin-top: 20px;
            font-size: 14px;
        }

        /* ê°œë°œì ë„êµ¬ ê²½ê³  í™”ë©´ */
        .devtools-warning {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 99999;
            justify-content: center;
            align-items: center;
        }

        .devtools-warning.active {
            display: flex;
        }

        .warning-content {
            background: white;
            padding: 50px;
            border-radius: 20px;
            text-align: center;
            max-width: 500px;
        }

        .warning-content h1 {
            color: #c33;
            margin-bottom: 20px;
            font-size: 32px;
        }

        .warning-content p {
            color: #666;
            font-size: 18px;
            line-height: 1.6;
            margin-bottom: 30px;
        }

        .reload-btn {
            padding: 15px 40px;
            background: #c33;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
        }

        @media (max-width: 768px) {
            .books-grid {
                grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
                gap: 20px;
            }

            .book-cover {
                height: 280px;
            }

            .book-icon {
                font-size: 60px;
            }

            .book-cover h3 {
                font-size: 18px;
            }

            .book-content {
                flex-direction: column;
            }

            .page {
                padding: 30px;
                min-height: 400px;
            }

            .page.left {
                border-right: none;
                border-bottom: 1px solid #e0e0e0;
            }

            .library-header, .reader-header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <!-- ê°œë°œì ë„êµ¬ ê²½ê³  í™”ë©´ -->
    <div class="devtools-warning" id="devtoolsWarning">
        <div class="warning-content">
            <h1>âš ï¸ ì ‘ê·¼ ì°¨ë‹¨</h1>
            <p>ê°œë°œì ë„êµ¬ ì‚¬ìš©ì´ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤.<br>ì½˜í…ì¸  ë³´í˜¸ë¥¼ ìœ„í•´ í˜ì´ì§€ê°€ ì°¨ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
            <button class="reload-btn" onclick="location.reload()">í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨</button>
        </div>
    </div>

    <!-- ë¡œê·¸ì¸ í™”ë©´ -->
    <div class="login-container" id="loginContainer">
        <h1>ğŸ“š ì˜¨ë¼ì¸ ì†Œì„¤ ë„ì„œê´€</h1>
        <p class="subtitle">ì´ˆëŒ€ë°›ì€ íšŒì›ë§Œ ì…ì¥ ê°€ëŠ¥í•©ë‹ˆë‹¤</p>
        
        <div class="error-message" id="loginError"></div>
        
        <div class="input-group">
            <label for="username">ì‚¬ìš©ì ì•„ì´ë””</label>
            <input type="text" id="username" placeholder="í—ˆìš©ëœ ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
        </div>
        
        <div class="input-group">
            <label for="inviteCode">ì´ˆëŒ€ ì½”ë“œ</label>
            <input type="password" id="inviteCode" placeholder="ì´ˆëŒ€ ì½”ë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”">
        </div>
        
        <button class="login-btn" onclick="login()">ë¡œê·¸ì¸</button>
        
        <div class="info-box">
            <strong>âš ï¸ ì•ˆë‚´ì‚¬í•­</strong><br>
            â€¢ í—ˆìš©ëœ ì•„ì´ë””ì™€ ì˜¬ë°”ë¥¸ ì´ˆëŒ€ ì½”ë“œê°€ í•„ìš”í•©ë‹ˆë‹¤<br>
            â€¢ ì´ˆëŒ€ ì½”ë“œëŠ” ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”
        </div>
    </div>

    <!-- ì±… ì„ íƒ í™”ë©´ -->
    <div class="library-container" id="libraryContainer">
        <div class="library-header">
            <h2>ğŸ“š ë‚˜ì˜ ì†Œì„¤ ë¼ì´ë¸ŒëŸ¬ë¦¬</h2>
            <div class="user-info">
                <span class="username-display" id="libraryUser"></span>
                <button class="logout-btn" onclick="logout()">ë¡œê·¸ì•„ì›ƒ</button>
            </div>
        </div>

        <div class="books-grid" id="booksGrid">
            <!-- ì±… ì¹´ë“œë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
        </div>
    </div>

    <!-- ë…ì„œ í™”ë©´ -->
    <div class="reader-container" id="readerContainer">
        <div class="reader-header">
            <div>
                <button class="back-btn" onclick="backToLibrary()">â—€ ì±…ì¥ìœ¼ë¡œ</button>
                <button class="logout-btn" onclick="logout()">ë¡œê·¸ì•„ì›ƒ</button>
            </div>
            <h2 id="currentBookTitle">ğŸ“– ë…ì„œ ì¤‘</h2>
            <div class="user-info">
                <span class="username-display" id="readerUser"></span>
            </div>
        </div>

        <div class="book-viewer">
            <div class="book-content" id="bookContent">
                <div class="page left">
                    <div class="page-content" id="leftPage"></div>
                    <div class="page-number" id="leftPageNum"></div>
                </div>
                <div class="page right">
                    <div class="page-content" id="rightPage"></div>
                    <div class="page-number" id="rightPageNum"></div>
                </div>
            </div>

            <div class="controls">
                <button class="control-btn" id="prevBtn" onclick="previousPage()">â—€ ì´ì „</button>
                <button class="control-btn" id="nextBtn" onclick="nextPage()">ë‹¤ìŒ â–¶</button>
            </div>
        </div>

        <div class="page-info" id="pageInfo"></div>
    </div>

    <script>
        // ========================================
        // ğŸ” ê°œë°œì ë„êµ¬ ì°¨ë‹¨ ì‹œìŠ¤í…œ
        // ========================================
        
        (function() {
            const devtoolsWarning = document.getElementById('devtoolsWarning');
            let devtoolsOpen = false;

            const detectDevTools = () => {
                const threshold = 160;
                const widthThreshold = window.outerWidth - window.innerWidth > threshold;
                const heightThreshold = window.outerHeight - window.innerHeight > threshold;
                
                if (widthThreshold || heightThreshold) {
                    if (!devtoolsOpen) {
                        devtoolsOpen = true;
                        showWarning();
                    }
                }
            };

            function showWarning() {
                devtoolsWarning.classList.add('active');
                document.body.style.overflow = 'hidden';
            }

            setInterval(detectDevTools, 500);
            
            document.addEventListener('keydown', (e) => {
                if (e.keyCode === 123 || 
                    (e.ctrlKey && e.shiftKey && e.keyCode === 73) ||
                    (e.ctrlKey && e.shiftKey && e.keyCode === 74) ||
                    (e.ctrlKey && e.keyCode === 85) ||
                    (e.ctrlKey && e.shiftKey && e.keyCode === 67)) {
                    e.preventDefault();
                    showWarning();
                    return false;
                }
            });

            document.addEventListener('contextmenu', (e) => {
                e.preventDefault();
                return false;
            });

            document.addEventListener('copy', (e) => {
                e.preventDefault();
                return false;
            });

            document.addEventListener('selectstart', (e) => {
                if (e.target.tagName !== 'INPUT') {
                    e.preventDefault();
                    return false;
                }
            });
        })();

        // ========================================
        // ğŸ” ì—¬ê¸°ì„œ ì„¤ì •ì„ ë³€ê²½í•˜ì„¸ìš”!
        // ========================================
        
        const INVITE_CODE = "1";
        
        const ALLOWED_USERS = [
            "1",
            "ê¹€ì² ìˆ˜"
        ];
        
        // ========================================
        // ğŸ“š ì±… ë°ì´í„°
        // ========================================
        
        const booksData = [
            {
                id: 1,
                title: "ã€Šì—„ì¤€ì‹ê³¼ í•¨ê»˜í•˜ëŠ” ì´ì„¸ê³„ ìƒí™œã€‹",
                author: "ì´ë…¸ì¹˜",
                icon: "ğŸ˜ï¸", // ì´ëª¨ì§€ ë˜ëŠ” ì´ë¯¸ì§€ URL
                coverImage: "images/cover1.png", // ì—¬ê¸°ì— ì´ë¯¸ì§€ URLì„ ë„£ìœ¼ì„¸ìš” (ì˜ˆ: "https://example.com/cover.jpg")
                description: "ì•„ë¬´ê²ƒë„ ì•ˆ í–ˆëŠ”ë°, ì´ì„¸ê³„ê°€ ì•Œì•„ì„œ êµ¬ì›ëë‹¤.",
                chapters: 8,
                color: "linear-gradient(135deg, #667eea 0%, #764ba2 100%)",
                content: [
                    {
                        title: "í”„ë¡¤ë¡œê·¸ â€• ì—„ì¤€ì‹ì€ ì™œ ì—„ì¤€ì‹ì¸ê°€",
                        content: "ì—„ì¤€ì‹ì€ í‰ë²”í–ˆë‹¤.\n\nì•„ë‹ˆ, ì •í™•íˆ ë§í•˜ë©´ ì§€ë‚˜ì¹˜ê²Œ í‰ë²”í•´ì„œ ë°ˆì´ ë˜ì–´ë²„ë¦° ë‚¨ìì˜€ë‹¤.\n\níŠ¹ë³„í•œ ì¬ëŠ¥ë„, íŠ¹ë³„í•œ ê¿ˆë„ ì—†ê³  ê·¸ì € í¸ì˜ì  ì•Œë°”ì™€ ë¼ë©´ì„ ì‚¬ë‘í•˜ë©°\n\nâ€œì•„â€¦ ê·€ì°®ë‹¤â€ë¥¼ ì…ì— ë‹¬ê³  ì‚´ë˜ ìŠ¤ë¬¼ì…‹. ê·¸ëŸ° ì—„ì¤€ì‹ì´ ì´ì„¸ê³„ë¡œ ê°€ê²Œ ëœ ì´ìœ ëŠ” ë‹¨ í•˜ë‚˜ì˜€ë‹¤. \n\níŠ¸ëŸ­ë„ ì•„ë‹ˆê³ , ì‹ ì˜ ì„ íƒë„ ì•„ë‹ˆê³ , ë¹„ ì˜¤ëŠ” ë‚  ë§¨í™€ì„ í”¼í•´ ê±·ë‹¤ê°€ ë¯¸ë„ëŸ¬ì§„ ê²ƒë¿ì´ì—ˆë‹¤.\n\nâ€œì•„.â€ ê·¸ê²Œ ì—„ì¤€ì‹ì˜ ë§ˆì§€ë§‰ ë§ì´ì—ˆë‹¤."
                    },
                    {
                        title: "1ì¥ â€• ì´ì„¸ê³„ì— ë–¨ì–´ì¡ŒëŠ”ë° ì´ë¦„ì´ ì—„ì¤€ì‹ì´ë‹¤",
                        content: "ëˆˆì„ ëœ¨ì, í•˜ëŠ˜ì€ íŒŒë—ê³  í’€ì€ ë§ë„ ì•ˆ ë˜ê²Œ í‘¸ë¥´ë €ë‹¤.\n\nâ€œì™€â€¦ ì—¬ê¸´ ë˜ ì–´ë””ì•¼.â€\n\nì—„ì¤€ì‹ì€ ìƒì²´ë¥¼ ì¼ìœ¼ì¼°ë‹¤.\nê·¸ë¦¬ê³  ë°”ë¡œ ëˆˆì•ì— ë– ì˜¤ë¥¸ ë©”ì‹œì§€ë¥¼ ë³´ì•˜ë‹¤.\n\n[í™˜ì˜í•©ë‹ˆë‹¤, ì´ì„¸ê³„ â€˜ì•Œí…Œë¦¬ì•„â€™ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!]\n[ì´ë¦„ì„ í™•ì¸í•©ë‹ˆë‹¤â€¦]\n[ì—„ì¤€ì‹]\n\nâ€œâ€¦ë­?â€\nì ì‹œ í›„, ëˆˆì•ì— ìˆë˜ ìš”ì •ì´ êµ³ì–´ë²„ë ¸ë‹¤.\nâ€œì—â€¦ ì´ë¦„ì´â€¦ ë­ë¼ê³ ìš”?â€\nâ€œì—„ì¤€ì‹ì´ìš”.â€\nìš”ì •ì€ í•œì°¸ì„ ì¹¨ë¬µí•˜ë‹¤ê°€ ì¡°ì‹¬ìŠ¤ëŸ½ê²Œ ë§í–ˆë‹¤.\nâ€œê·¸â€¦ ë°œìŒì´ í˜¹ì‹œâ€¦ ë†ë‹´ì¸ê°€ìš”?â€\nâ€œì•„ë‹ˆìš”. ì£¼ë¯¼ë“±ë¡ì¦ë„ ìˆì–´ìš”. ì•„, ì—¬ê¸° ì—†ì§€.â€\nê·¸ ìˆœê°„, ì‹œìŠ¤í…œ ë©”ì‹œì§€ê°€ ë‹¤ì‹œ ë–´ë‹¤.\n[ì´ë¦„ì´ ë„ˆë¬´ ê°•ë ¥í•©ë‹ˆë‹¤.]\n[ì£¼ë³€ ì¸ì‹ ë³´ì •ì´ ì ìš©ë©ë‹ˆë‹¤.]\nìš”ì •ì€ ê³ ê°œë¥¼ ë„ë•ì´ë©° ë§í–ˆë‹¤.\nâ€œì•„, ì•Œê² ìŠµë‹ˆë‹¤. ì—„â€¦ ìœ„ëŒ€í•œ ìš©ì‚¬ë‹˜.â€\nâ€œâ€¦ì™œ ìœ„ëŒ€í•œì´ ë¶™ëŠ”ë°.â€\nâ€œëª¨ë¥´ê² ì–´ìš”. ì‹œìŠ¤í…œì´ ê·¸ë ‡ê²Œ ë¶€ë¥´ë˜ìš”.â€\nì—„ì¤€ì‹ì€ ì´ë•Œ ê¹¨ë‹¬ì•˜ë‹¤.\n\nì´ì„¸ê³„ëŠ” ì´ìƒí•˜ë‹¤. ê·¸ë¦¬ê³  ë‚´ ì´ë¦„ì€ ë” ì´ìƒí•˜ë‹¤."
                    },
                    {
                        title: "2ì¥ â€• ìŠ¤í‚¬ì´ ì—†ëŠ”ë° ì´ìƒí•˜ê²Œ ê°•í•˜ë‹¤",
                        content: "ë³´í†µ ì´ì„¸ê³„ ìš©ì‚¬ëŠ”\nê²€ìˆ  S, ë§ˆë²• ì ì„± MAX, ì¹˜íŠ¸ ìŠ¤í‚¬ ê°™ì€ ê±¸ ë°›ëŠ”ë‹¤.\nì—„ì¤€ì‹ì˜ ìƒíƒœì°½ì€ ë‹¬ëë‹¤.\n\n[ì§ì—…: ë°±ìˆ˜]\n[ìŠ¤í‚¬: ì—†ìŒ]\n[íŠ¹ì„±: ì—„ì¤€ì‹]\n\nâ€œíŠ¹ì„± ë­ì•¼ ì´ê±°.â€\nìš”ì •ì€ ì§„ì§€í•œ ì–¼êµ´ë¡œ ì„¤ëª…í–ˆë‹¤.\nâ€œâ€˜ì—„ì¤€ì‹â€™ íŠ¹ì„±ì€â€¦\nì„¤ëª… ë¶ˆê°€ì…ë‹ˆë‹¤.â€\nâ€œì•„ë‹ˆ ì„¤ëª… ë¶ˆê°€ê°€ ì–´ë”¨ì–´.â€\nê·¸ë•Œ, ìŠ¬ë¼ì„ì´ íŠ€ì–´ë‚˜ì™”ë‹¤.\nâ€œìœ„í—˜í•´ìš”! ë„ë§â€”â€\nì—„ì¤€ì‹ì€ ê·€ì°®ë‹¤ëŠ” ë“¯ ìŠ¬ë¼ì„ì„ ë°œë¡œ ì°¼ë‹¤.\ní½.\nìŠ¬ë¼ì„ì€ ì¦ë°œí–ˆë‹¤.\n[ìŠ¬ë¼ì„ì´ ì •ì‹ ì  íŒ¨ë°°ë¥¼ ì¸ì •í–ˆìŠµë‹ˆë‹¤.]\n[ê²½í—˜ì¹˜ë¥¼ íšë“í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.]\nâ€œâ€¦ê²½í—˜ì¹˜ëŠ” ì™œ ì•ˆ ì¤˜.â€\nâ€œìŠ¬ë¼ì„ì´â€¦ ìŠ¤ìŠ¤ë¡œ íŒ¨ë°°í•´ì„œìš”.â€\nì—„ì¤€ì‹ì€ ê³ ê°œë¥¼ ê¸ì ì˜€ë‹¤.\nâ€œë­ì•¼ ì´ê±°. ë‚˜ ê·¸ëƒ¥ ë°œë¡œ ì°¼ëŠ”ë°.â€\nìš”ì •ì€ ë–¨ë¦¬ëŠ” ëª©ì†Œë¦¬ë¡œ ì¤‘ì–¼ê±°ë ¸ë‹¤.\nâ€œì´ì„¸ê³„ì—ëŠ”â€¦\nì‹¸ìš¸ ì˜ì§€ê°€ ì—†ëŠ” ìì—ê²Œ íŒ¨ë°°í•˜ëŠ” ì¡´ì¬ê°€ ìˆìŠµë‹ˆë‹¤.â€\nâ€œê·¸ê²Œ ì™œ ë‚˜ì•¼."
                    },
                    {
                        title: "ì œ4ì¥: ë°œê²¬",
                        content: "ë§ˆì„ì„ íƒí—˜í•˜ë˜ ì¤‘ ì˜¤ë˜ëœ ì„œì ì„ ë°œê²¬í–ˆë‹¤. ë¨¼ì§€ ìŒ“ì¸ ì±…ë“¤ ì‚¬ì´ì—ì„œ ê·¸ë“¤ì€ ì‹ ë¹„í•œ ì¼ê¸°ë¥¼ ì°¾ì•˜ë‹¤.\n\nì¼ê¸°ì—ëŠ” ë§ˆì„ì˜ ë¹„ë°€ì´ ë‹´ê²¨ ìˆì—ˆë‹¤. ìˆ˜ë°± ë…„ ì „ì˜ ì´ì•¼ê¸°, ìŠí˜€ì§„ ì „ì„¤ë“¤...\n\n'ìš°ë¦¬ê°€ ì´ê±¸ ì½ì–´ë„ ë ê¹Œ?' ê·¸ë…€ê°€ ì¡°ì‹¬ìŠ¤ëŸ½ê²Œ ë¬¼ì—ˆë‹¤."
                    },
                    {
                        title: "ì œ5ì¥: ì§„ì‹¤",
                        content: "ì¼ê¸°ë¥¼ ì½ìœ¼ë©´ì„œ ê·¸ë“¤ì€ ë†€ë¼ìš´ ì§„ì‹¤ì„ ì•Œê²Œ ë˜ì—ˆë‹¤. ì´ ë§ˆì„ì€ í‰ë²”í•œ ê³³ì´ ì•„ë‹ˆì—ˆë‹¤.\n\në§ˆì„ ì‚¬ëŒë“¤ì€ íŠ¹ë³„í•œ ëŠ¥ë ¥ì„ ê°€ì§€ê³  ìˆì—ˆë‹¤. ê·¸ë“¤ì€ ì‹œê°„ì„ ëŠë¦¬ê²Œ ë§Œë“¤ ìˆ˜ ìˆì—ˆë‹¤.\n\n'ê·¸ë˜ì„œ ì´ê³³ì´ ì´ë ‡ê²Œ í‰í™”ë¡œìš´ ê±°êµ¬ë‚˜.' ê·¸ê°€ ê¹¨ë‹¬ì•˜ë‹¤."
                    },
                    {
                        title: "ì œ6ì¥: ì„ íƒ",
                        content: "ë§ˆì„ ì¥ë¡œê°€ ê·¸ë“¤ì„ ì°¾ì•„ì™”ë‹¤. 'ìš°ë¦¬ì˜ ë¹„ë°€ì„ ì•Œê²Œ ë˜ì—ˆêµ°ìš”. ì´ì œ ì„ íƒì„ í•´ì•¼ í•©ë‹ˆë‹¤.'\n\n'ì—¬ê¸° ë‚¨ì•„ ìš°ë¦¬ì™€ í•¨ê»˜ ì‚´ê±°ë‚˜, ì•„ë‹ˆë©´ ë– ë‚˜ë˜ ì´ê³³ì˜ ê¸°ì–µì„ ìƒì–´ì•¼ í•©ë‹ˆë‹¤.'\n\në‘ ì‚¬ëŒì€ ì„œë¡œë¥¼ ë°”ë¼ë³´ì•˜ë‹¤. ì–´ë–¤ ì„ íƒì„ í•´ì•¼ í• ê¹Œ?"
                    },
                    {
                        title: "ì œ7ì¥: ê²°ì •",
                        content: "ì˜¤ëœ ê³ ë¯¼ ëì— ê·¸ë“¤ì€ ê²°ì •ì„ ë‚´ë ¸ë‹¤. 'ìš°ë¦¬ëŠ” ë– ë‚˜ê² ìŠµë‹ˆë‹¤.'\n\nì¥ë¡œëŠ” ìŠ¬í”ˆ í‘œì •ìœ¼ë¡œ ê³ ê°œë¥¼ ë„ë•ì˜€ë‹¤. 'í˜„ëª…í•œ ì„ íƒì…ë‹ˆë‹¤. ë‹¹ì‹ ë“¤ì˜ ì„¸ê³„ì—ëŠ” ë” ë§ì€ ëª¨í—˜ì´ ê¸°ë‹¤ë¦¬ê³  ìˆìœ¼ë‹ˆê¹Œìš”.'\n\n'í•˜ì§€ë§Œ ê¸°ì–µì„ ìƒëŠ” ê±´ ì›ì¹˜ ì•ŠìŠµë‹ˆë‹¤.' ê·¸ë…€ê°€ ë§í–ˆë‹¤."
                    },
                    {
                        title: "ì œ8ì¥: ìƒˆë¡œìš´ ì‹œì‘",
                        content: "ì¥ë¡œëŠ” ë¯¸ì†Œë¥¼ ì§€ì—ˆë‹¤. 'ê·¸ë˜ë„ ê´œì°®ìŠµë‹ˆë‹¤. ì§„ì •í•œ ê²½í—˜ì€ ë§ˆìŒì† ê¹Šì´ ë‚¨ëŠ” ë²•ì´ë‹ˆê¹Œìš”.'\n\nê·¸ë“¤ì€ ë§ˆì„ì„ ë– ë‚¬ë‹¤. ê¸°ì–µì€ íë¦¿í•´ì¡Œì§€ë§Œ, ê°€ìŠ´ì†ì—ëŠ” ë”°ëœ»í•œ ë¬´ì–¸ê°€ê°€ ë‚¨ì•„ìˆì—ˆë‹¤.\n\n'ë‹¤ìŒì—” ì–´ë””ë¡œ ê°ˆê¹Œ?' ê·¸ê°€ ë¬¼ì—ˆë‹¤. 'ì–´ë””ë“  ì¢‹ì•„, í•¨ê»˜ë‹ˆê¹Œ.' ê·¸ë…€ê°€ ë‹µí–ˆë‹¤."
                    }
                ]
            },
            {
                id: 2,
                title: "ã€Šì—„ì¤€ì‹ê³¼ í•¨ê»˜í•˜ëŠ” ì´ì„¸ê³„ ìƒí™œ 2ã€‹",
                author: "ì´ë…¸ì¹˜",
                icon: "â­",
                coverImage: "images/cover2.png", // ì—¬ê¸°ì— ì´ë¯¸ì§€ URLì„ ë„£ìœ¼ì„¸ìš”
                description: "ê°€ë§Œíˆ ìˆì—ˆì„ ë¿ì¸ë°, ì´ë²ˆì—” ì‹ ë“¤ì´ ë¶ˆì•ˆí•´í•˜ê¸° ì‹œì‘í–ˆë‹¤.",
                chapters: 5,
                color: "linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",
                content: [
                    {
                        title: "ì œ1ì¥: ì²« ë§Œë‚¨",
                        content: "ë³„ì´ ê°€ë“í•œ ë°¤í•˜ëŠ˜ ì•„ë˜, ë‘ ì‚¬ëŒì€ ì²˜ìŒ ë§Œë‚¬ë‹¤. ìš°ì—°íˆ ê°™ì€ ì²œë¬¸ëŒ€ë¥¼ ì°¾ì€ ê·¸ë“¤ì€ ê°™ì€ ë³„ì„ ë°”ë¼ë³´ê³  ìˆì—ˆë‹¤.\n\n'ì € ë³„ ì´ë¦„ì´ ë­”ì§€ ì•„ì„¸ìš”?' ê·¸ê°€ ë¨¼ì € ë§ì„ ê±¸ì—ˆë‹¤.\n\n'ë² ê°€ìš”. ì§ë…€ì„±ì´ë¼ê³ ë„ í•˜ì£ .' ê·¸ë…€ê°€ ëŒ€ë‹µí–ˆë‹¤."
                    },
                    {
                        title: "ì œ2ì¥: í•¨ê»˜í•œ ì‹œê°„",
                        content: "ê·¸ í›„ë¡œ ë‘ ì‚¬ëŒì€ ìì£¼ ë§Œë‚¬ë‹¤. ë°¤í•˜ëŠ˜ì˜ ë³„ë“¤ì²˜ëŸ¼ ì„œë¡œì—ê²Œ ë¹›ì´ ë˜ì–´ì£¼ì—ˆë‹¤.\n\në§¤ì£¼ ê°™ì€ ì‹œê°„, ê°™ì€ ì¥ì†Œì—ì„œ ë§Œë‚˜ ë³„ì„ ë³´ê³  ì´ì•¼ê¸°ë¥¼ ë‚˜ëˆ„ì—ˆë‹¤.\n\nì‹œê°„ì´ ì§€ë‚˜ë©´ì„œ ë‘ ì‚¬ëŒì˜ ìš°ì •ì€ ì ì  ê¹Šì–´ì ¸ê°”ë‹¤."
                    },
                    {
                        title: "ì œ3ì¥: ì•½ì†",
                        content: "ì–´ëŠ ìœ ì„±ìš°ê°€ ìŸì•„ì§€ëŠ” ë°¤, ê·¸ëŠ” ìš©ê¸°ë¥¼ ë‚´ì–´ ê³ ë°±í–ˆë‹¤.\n\n'ì € ë³„ë“¤ì²˜ëŸ¼ ë‹¹ì‹  ê³ì—ì„œ ì˜ì›íˆ ë¹›ë‚˜ê³  ì‹¶ì–´ìš”.'\n\nê·¸ë…€ëŠ” ë¯¸ì†Œ ì§€ìœ¼ë©° ê·¸ì˜ ì†ì„ ì¡ì•˜ë‹¤. 'ìš°ë¦¬ í•¨ê»˜ ì•½ì†í•´ìš”. ë³„ë¹› ì•„ë˜ì—ì„œ.'"
                    },
                    {
                        title: "ì œ4ì¥: ì‹œë ¨",
                        content: "í•˜ì§€ë§Œ í–‰ë³µí•œ ì‹œê°„ì€ ì˜¤ë˜ê°€ì§€ ì•Šì•˜ë‹¤. ê·¸ë…€ì—ê²Œ ë¨¼ ê³³ìœ¼ë¡œ ë– ë‚˜ì•¼ í•˜ëŠ” ì¼ì´ ìƒê²¼ë‹¤.\n\n'1ë…„ë§Œ ê¸°ë‹¤ë ¤ì¤„ ìˆ˜ ìˆì–´?' ê·¸ë…€ê°€ ëˆˆë¬¼ì„ í˜ë¦¬ë©° ë¬¼ì—ˆë‹¤.\n\n'ë³„ë“¤ì´ ì‚¬ë¼ì§€ì§€ ì•ŠëŠ” í•œ, ë‚˜ë„ ì—¬ê¸°ì„œ ê¸°ë‹¤ë¦´ê²Œìš”.' ê·¸ê°€ ëŒ€ë‹µí–ˆë‹¤."
                    },
                    {
                        title: "ì œ5ì¥: ì¬íšŒ",
                        content: "ê¸´ ê¸°ë‹¤ë¦¼ ëì— ê·¸ë…€ê°€ ëŒì•„ì™”ë‹¤. ê·¸ë“¤ì€ ë‹¤ì‹œ ì²œë¬¸ëŒ€ì—ì„œ ë§Œë‚¬ë‹¤.\n\nê°™ì€ ë³„ë¹› ì•„ë˜, ë³€í•¨ì—†ì´ ê·¸ ìë¦¬ë¥¼ ì§€í‚¤ê³  ìˆë˜ ê·¸ë¥¼ ë³´ë©° ê·¸ë…€ëŠ” ìš¸ì—ˆë‹¤.\n\n'ì•½ì†ì„ ì§€ì¼°êµ¬ë‚˜.' 'ë‹¹ì—°í•˜ì£ . ìš°ë¦¬ì˜ ì•½ì†ì€ ë³„ë¹›ë§Œí¼ ì˜ì›í•˜ë‹ˆê¹Œìš”.'"
                    }
                ]
            },
            {
                id: 3,
                title: "ë¯¸ì •",
                author: "ì´ë…¸ì¹˜",
                icon: "â°",
                coverImage: "", // ì—¬ê¸°ì— ì´ë¯¸ì§€ URLì„ ë„£ìœ¼ì„¸ìš”
                description: "í›„ì†ì„ ê¸°ëŒ€í•´ ì£¼ì„¸ìš”!",
                chapters: 6,
                color: "linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",
                content: [
                ]
            }
        ];

        let currentPage = 0;
        let currentUsername = null;
        let currentBook = null;

        // ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ
        function showError(message) {
            const errorDiv = document.getElementById('loginError');
            errorDiv.textContent = message;
            errorDiv.style.display = 'block';
            setTimeout(() => {
                errorDiv.style.display = 'none';
            }, 5000);
        }

        // ë¡œê·¸ì¸
        function login() {
            const username = document.getElementById('username').value.trim();
            const inviteCode = document.getElementById('inviteCode').value;

            if (!username || !inviteCode) {
                showError('ì•„ì´ë””ì™€ ì´ˆëŒ€ ì½”ë“œë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            if (inviteCode !== INVITE_CODE) {
                showError('ì´ˆëŒ€ ì½”ë“œê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');
                return;
            }

            if (!ALLOWED_USERS.includes(username)) {
                showError('í—ˆìš©ë˜ì§€ ì•Šì€ ì•„ì´ë””ì…ë‹ˆë‹¤. ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”.');
                return;
            }

            currentUsername = username;
            document.getElementById('libraryUser').textContent = username + 'ë‹˜';
            document.getElementById('readerUser').textContent = username + 'ë‹˜';
            document.getElementById('loginContainer').style.display = 'none';
            document.getElementById('libraryContainer').style.display = 'block';
            
            document.getElementById('username').value = '';
            document.getElementById('inviteCode').value = '';
            
            loadLibrary();
        }

        // ë¡œê·¸ì•„ì›ƒ
        function logout() {
            currentUsername = null;
            currentPage = 0;
            currentBook = null;
            document.getElementById('readerContainer').style.display = 'none';
            document.getElementById('libraryContainer').style.display = 'none';
            document.getElementById('loginContainer').style.display = 'block';
        }

        // ì±… ì„ íƒ í™”ë©´ ë¡œë“œ
        function loadLibrary() {
            const booksGrid = document.getElementById('booksGrid');
            booksGrid.innerHTML = '';

            booksData.forEach(book => {
                const bookCard = document.createElement('div');
                bookCard.className = 'book-card';
                bookCard.onclick = () => openBook(book.id);

                // ì´ë¯¸ì§€ URLì´ ìˆìœ¼ë©´ ì´ë¯¸ì§€ ì‚¬ìš©, ì—†ìœ¼ë©´ ì•„ì´ì½˜ ì‚¬ìš©
                const coverContent = book.coverImage 
                    ? `<img src="${book.coverImage}" class="book-cover-image" alt="${book.title}">
                       <div class="book-cover-overlay">
                           <h3>${book.title}</h3>
                       </div>`
                    : `<div class="book-icon">${book.icon}</div>
                       <h3>${book.title}</h3>`;

                bookCard.innerHTML = `
                    <div class="book-cover" style="background: ${book.color}">
                        ${coverContent}
                    </div>
                    <div class="book-info">
                        <div class="book-author">ì €ì: ${book.author}</div>
                        <div class="book-description">${book.description}</div>
                        <div class="book-chapters">ì´ ${book.chapters}ì¥</div>
                    </div>
                `;

                booksGrid.appendChild(bookCard);
            });
        }

        // ì±… ì—´ê¸°
        function openBook(bookId) {
            currentBook = booksData.find(book => book.id === bookId);
            if (!currentBook) return;

            currentPage = 0;
            document.getElementById('currentBookTitle').textContent = 'ğŸ“– ' + currentBook.title;
            document.getElementById('libraryContainer').style.display = 'none';
            document.getElementById('readerContainer').style.display = 'block';
            
            loadPages();
        }

        // ì±…ì¥ìœ¼ë¡œ ëŒì•„ê°€ê¸°
        function backToLibrary() {
            currentBook = null;
            currentPage = 0;
            document.getElementById('readerContainer').style.display = 'none';
            document.getElementById('libraryContainer').style.display = 'block';
        }

        function loadPages() {
            if (!currentBook) return;

            const leftPage = document.getElementById('leftPage');
            const rightPage = document.getElementById('rightPage');
            const leftPageNum = document.getElementById('leftPageNum');
            const rightPageNum = document.getElementById('rightPageNum');
            const bookContent = document.getElementById('bookContent');

            bookContent.style.opacity = '0';
            
            setTimeout(() => {
                if (currentPage < currentBook.content.length) {
                    const data = currentBook.content[currentPage];
                    leftPage.innerHTML = `<h3>${data.title}</h3><p>${data.content.replace(/\n/g, '</p><p>')}</p>`;
                    leftPageNum.textContent = currentPage + 1;
                } else {
                    leftPage.innerHTML = '<p>ë</p>';
                    leftPageNum.textContent = '';
                }

                if (currentPage + 1 < currentBook.content.length) {
                    const data = currentBook.content[currentPage + 1];
                    rightPage.innerHTML = `<h3>${data.title}</h3><p>${data.content.replace(/\n/g, '</p><p>')}</p>`;
                    rightPageNum.textContent = currentPage + 2;
                } else {
                    rightPage.innerHTML = '';
                    rightPageNum.textContent = '';
                }

                bookContent.style.opacity = '1';
                updateControls();
                updatePageInfo();
            }, 150);
        }

        function nextPage() {
            if (!currentBook || currentPage >= currentBook.content.length - 1) return;
            currentPage += 2;
            loadPages();
        }

        function previousPage() {
            if (!currentBook || currentPage <= 0) return;
            currentPage -= 2;
            if (currentPage < 0) currentPage = 0;
            loadPages();
        }

        function updateControls() {
            if (!currentBook) return;
            document.getElementById('prevBtn').disabled = currentPage <= 0;
            document.getElementById('nextBtn').disabled = currentPage >= currentBook.content.length - 1;
        }

        function updatePageInfo() {
            if (!currentBook) return;
            const totalPages = currentBook.content.length;
            const currentDisplayPage = Math.min(currentPage + 1, totalPages);
            document.getElementById('pageInfo').textContent = 
                `í˜ì´ì§€ ${currentDisplayPage}-${Math.min(currentPage + 2, totalPages)} / ì´ ${totalPages}í˜ì´ì§€`;
        }

        // í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤
        document.addEventListener('keydown', (e) => {
            if (document.getElementById('readerContainer').style.display === 'block') {
                if (e.key === 'ArrowLeft') previousPage();
                if (e.key === 'ArrowRight') nextPage();
            }
        });

        document.getElementById('inviteCode').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') login();
        });
        
        document.getElementById('username').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                document.getElementById('inviteCode').focus();
            }
        });
    </script>
</body>
</html>
